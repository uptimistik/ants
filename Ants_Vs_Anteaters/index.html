<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Ant Game</title>
<link rel="stylesheet" type="text/css" href="css/gse-style.css"/>
<link rel="stylesheet" type="text/css" href="css/gse-style-loading.css"/>
</head>
<body>
<div id="gse-player" class="gse-frame">
<div class="gse-overlay">
<div id="gse-text" class="gse-dialog">
<div>
<button>Cancel</button>
<button>Done</button>
</div>
<div>
</div>
</div>
<div id="gse-loading" style="visibility:visible;">
<img src="images/gse-loading.png"/>
</div>
</div>
</div>
<script type="text/javascript" src="js/gse/gse-export.js" async onload="onEngineLoad()"></script>
<script>
(function(global) {
    var currentScore = 0,
        lastScore = 0,
        engine = null;

    global.onEngineLoad = function() {
        gse.ready(function(gseEngine) {
            engine = gseEngine;
            var loadingElement = document.getElementById('gse-loading');
            var playerDelegate = {
                onTouchPressed: function() {
                    if (navigator.vibrate) navigator.vibrate(50);
                },
                onGameCenterPostScore: function(score, leaderboard) {
                    currentScore = score;
                },
                onGameCenterShowLeaderboard: function(leaderboard) {
                    // Leaderboard functionality removed
                },
                onLoadingBegin: function() {
                    engine.showOverlay();
                    loadingElement.style.visibility = 'visible';
                },
                onLoadingEnd: function() {
                    loadingElement.style.visibility = 'hidden';
                    engine.hideOverlay();
                },
                onGameReady: function(width, height) {
                    // Game is ready, start playing
                    engine.play();
                },
                onWindowResize: function() {
                    engine.relayout();
                }
            };

            engine.appendDelegate(playerDelegate);
            window.addEventListener('resize', playerDelegate.onWindowResize, false);
            engine.setRenderFrame('gse-player');
            engine.setOptions({
                'viewport-reference': 'window',
                'viewport-fit': 'letterbox'
            });
            engine.loadOptionsFromURL();
        });
    };
})(window);
</script>
</body>
</html>